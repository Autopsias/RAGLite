/Users/ricardocarvalho/DeveloperFolder/RAGLite/spike/mcp_server.py:36: UserWarning: Qdrant client version 1.15.1 is incompatible with server version 1.11.0. Major versions should match and minor version difference must not exceed 1. Set check_compatibility=False to skip version check.
  _qdrant_client = QdrantClient(url=QDRANT_URL)
/Users/ricardocarvalho/DeveloperFolder/RAGLite/spike/mcp_server.py:95: DeprecationWarning: `search` method is deprecated and will be removed in the future. Use `query_points` instead.
  search_results = qdrant.search(
================================================================================
GROUND TRUTH TEST SET CREATION
================================================================================

Total questions: 15

Validating Q1/15: What are the main health and safety KPIs tracked by Secil Gr...
  ✓ Score: 0.8347, Match: 100%
Validating Q2/15: What is the EBITDA IFRS for cement operations?...
  ✓ Score: 0.8467, Match: 50%
Validating Q3/15: How do variable costs per ton compare across periods?...
  ✓ Score: 0.8341, Match: 50%
Validating Q4/15: What are the fixed costs per ton for operations?...
  ✓ Score: 0.8341, Match: 40%
Validating Q5/15: What is the distribution cost per ton?...
  ✓ Score: 0.8365, Match: 75%
Validating Q6/15: How many employees are mentioned in the financial metrics?...
  ✗ Score: 0.8045, Match: 25%
Validating Q7/15: What are the employee costs per ton?...
  ✓ Score: 0.8366, Match: 80%
Validating Q8/15: What is the unit margin in EUR per ton?...
  ✓ Score: 0.8307, Match: 40%
Validating Q9/15: What are the renting costs mentioned in the document?...
  ✗ Score: 0.7966, Match: 25%
Validating Q10/15: What is the variable contribution in thousands of EUR?...
  ✗ Score: 0.8196, Match: 0%
Validating Q11/15: What are the net transport costs?...
  ✗ Score: 0.8352, Match: 25%
Validating Q12/15: What are the other variable costs per ton?...
  ✓ Score: 0.8525, Match: 60%
Validating Q13/15: What percentage change is shown for frequency ratios?...
  ✗ Score: 0.8167, Match: 25%
Validating Q14/15: What is the EBITDA IFRS margin percentage?...
  ✓ Score: 0.8216, Match: 50%
Validating Q15/15: What are the fuel costs mentioned in the operating expenses?...
  ✓ Score: 0.8320, Match: 75%

================================================================================
VALIDATION SUMMARY
================================================================================
Success rate: 66.7% (10/15)
Average retrieval score: 0.8288
Average keyword match: 48%

By category:
  cost_analysis: 100% (4/4)
  financial_performance: 50% (1/2)
  margins: 100% (2/2)
  operating_expenses: 33% (1/3)
  safety_metrics: 50% (1/2)
  workforce: 50% (1/2)

✓ Ground truth set saved to: tests/ground_truth.json

⚠️  REASSESS: 66.7% (50-69%) - Investigate before Phase 1
